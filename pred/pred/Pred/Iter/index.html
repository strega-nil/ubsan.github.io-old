<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Iter (pred.Pred.Iter)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">pred</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Pred.Iter</span></h1></header><div class="doc"><p>iterators are a sequence of values, either finite or infinite.</p><p>a finite iterator is denoted by the syntax
<code class="code">&lt;value1; value2; ... valuen&gt;</code>,
while an infinite iterator is denoted
<code class="code">&lt;value1; value2; ...&gt;</code>.</p><p>for mapping functions, the infinite iterator syntax is used in examples,
but is meant to describe both infinite and finite iterators.</p></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a t</code><code></code><code></code></div><div class="doc"><p>the type of an iterator with elements of type <code class="code">'a</code>.</p><p>e.g., <code class="code">&lt;0; 1; ...&gt;</code> is an <code class="code">int t</code>.</p></div></div><h2>constructors</h2><div class="spec val" id="val-make"><a href="#val-make" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>make : <span class="type-var">'state</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'state</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'state</span><span class="keyword"> * </span><span class="type-var">'a</span>) option) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>the most general way of defining an iterator.</p><p>when <code class="code">f state</code> returns <code class="code">Some (new_state, element)</code>,
the next element of the iterator is <code class="code">element</code>,
and the next element will be found by calling <code class="code">f new_state</code>.
this is repeated until the function returns <code class="code">None</code>,
in which case the iterator is finished.</p><p>returns the iterator defined by the function and initial state.</p></div></div><div class="spec val" id="val-empty"><a href="#val-empty" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>empty : <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>generates <code class="code">&lt;&gt;</code> for all <code class="code">'a</code>.</p></div></div><div class="spec val" id="val-once"><a href="#val-once" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>once : <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>given the value <code class="code">x</code>, generates <code class="code">&lt;x&gt;</code>.</p></div></div><div class="spec val" id="val-repeat"><a href="#val-repeat" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>repeat : <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p>given the value <code class="code">x</code>, generates <code class="code">&lt;x; x; ... &gt;</code>.</p></div></div><div class="spec val" id="val-range"><a href="#val-range" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>range : int <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> int <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">range n m</code>, where <code class="code">n &lt; m</code>, generates <code class="code">&lt;n; n + 1; ... m - 1&gt;</code>.</p><p>where <code class="code">m &lt;= n</code>, generates <code class="code">&lt;&gt;</code>.</p></div></div><h2>transformations</h2><div class="spec val" id="val-map"><a href="#val-map" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>map : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">map f &lt;a0; a1; ... &gt;</code> will call the function <code class="code">f</code> on each of <code class="code">a0, a1, ...</code>,
and generates <code class="code">&lt;f a0; f a1; ... &gt;</code>.</p></div></div><div class="spec val" id="val-flatten"><a href="#val-flatten" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>flatten : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">flatten &lt;&lt;a0; a1; ... &gt;; &lt;b0; b1; ... &gt;; ... &gt;</code>
generates <code class="code">&lt;a0; a1; ... ; b0; b1; ... ; ...&gt;</code>.</p></div></div><div class="spec val" id="val-zip"><a href="#val-zip" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>zip : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span><span class="keyword"> * </span><span class="type-var">'b</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">zip &lt;x0; x1; ... &gt; &lt;y0; y1; ... &gt;</code>
generates <code class="code">&lt;(x0, y0); (x1, y1); ... &gt;</code>.</p><p>the generated iterator will finish when either of the zipped iterators finish.</p></div></div><div class="spec val" id="val-enumerate"><a href="#val-enumerate" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>enumerate : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (int<span class="keyword"> * </span><span class="type-var">'a</span>) <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">enumerate &lt;a0; a1; ... &gt;</code> generates <code class="code">&lt;(0, a0); (1, a1); ... &gt;</code></p></div></div><h2>size transformations</h2><div class="spec val" id="val-take"><a href="#val-take" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take : int <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">take n &lt;a0; a1; ... &gt;</code> generates the first <code class="code">n</code> elements of the iterator.</p></div></div><div class="spec val" id="val-take_while"><a href="#val-take_while" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>take_while : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> bool) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">take_while p &lt;a0; a1; ... &gt;</code>
generates the elements until <code class="code">p an</code> returns false.</p><p>e.g. <code class="code">take_while (fun x -&gt; x &gt; 0) &lt;1; 4; 2; 3; -1; 3&gt;</code>
will generate <code class="code">&lt;1; 4; 2; 3&gt;</code>.</p></div></div><h2>use</h2><p>note that iterators may be functionally impure behind the scenes.
the API is intended to be useable in a functionally pure way,
but OCaml is fundamentally an impure language.
this means that, given an arbitrary <code class="code">it: 'a t</code>,
<code class="code">(next it) = (next it)</code> is not necessarily <code class="code">true</code>.</p><div class="spec val" id="val-next"><a href="#val-next" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>next : <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <a href="index.html#type-t">t</a><span class="keyword"> * </span><span class="type-var">'a</span>) option</code></div><div class="doc"><p>iterates the iterator by one,
and returns the generated element,
plus the new iterator.</p></div></div><div class="spec val" id="val-nth"><a href="#val-nth" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>nth : int <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> option</code></div><div class="doc"><p>returns the <code class="code">n</code>-th element of the iterator.
if the iterator does not have at least <code class="code">n</code> elements,
then returns <code class="code">None</code>.</p></div></div><div class="spec val" id="val-fold"><a href="#val-fold" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>fold : <span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span>) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span></code></div><div class="doc"><p><code class="code">fold initial f &lt;b0; b1; ... bn&gt;</code>
returns <code class="code">f ( ... (f (f initial b0) b1) ... ) bn</code></p></div></div><div class="spec val" id="val-for_each"><a href="#val-for_each" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>for_each : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> unit) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">for_each f &lt;a0; a1; ... an&gt;</code> calls <code class="code">f</code> on each element in the iterator,
as if by <code class="code">(f a0; f a1; ... f an; ())</code></p></div></div><div class="spec val" id="val-for_each_break"><a href="#val-for_each_break" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>for_each_break : (<span class="type-var">'a</span> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> option) <span class="keyword">&#8209;&gt;</span> <span class="type-var">'a</span> <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">'b</span> option</code></div><div class="doc"><p><code class="code">for_each_break f &lt;a0; a1; ... &gt;</code> calls <code class="code">f</code> on each element in the iterator,
until the function returns <code class="code">None</code>,
as if by <code class="code">
    match f a0 with
    | Some x -&gt; Some x
    | None -&gt;
      match f a1 with
      | Some x -&gt; Some x
      | None -&gt; ...
  </code></p></div></div><div class="spec module" id="module-Monad"><a href="#module-Monad" class="anchor"></a><div class="def module"><code><span class="keyword">module </span><a href="Monad/index.html">Monad</a> : <a href="../Interfaces/Monad/index.html#module-type-Interface">Interfaces.Monad.Interface</a><span class="keyword"> with </span><span class="keyword">type </span>'a <a href="../Interfaces/Monad/module-type-Interface/index.html#type-t">t</a><span class="keyword"> = </span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></code></div><div class="doc"></div></div></body></html>